#!/bin/bash
# Pi Analytics Dashboard Kiosk Startup Script
# Generated by Ansible

# Wait for display to be ready
sleep 5

# Disable screen blanking
xset -dpms
xset s off
xset s noblank

# Hide cursor after 5 seconds of inactivity
unclutter -idle 5 &

# Start Chromium in kiosk mode
{% if display_type == 'hyperpixel_round' %}
# HyperPixel Round - 480x480
chromium-browser \
    --kiosk \
    --noerrdialogs \
    --disable-infobars \
    --disable-session-crashed-bubble \
    --disable-features=TranslateUI \
    --disable-pinch \
    --overscroll-history-navigation=0 \
    --window-size=480,480 \
    --window-position=0,0 \
    --start-fullscreen \
    http://localhost:5000
{% else %}
# Standard display
chromium-browser \
    --kiosk \
    --noerrdialogs \
    --disable-infobars \
    --disable-session-crashed-bubble \
    --disable-features=TranslateUI \
    --disable-pinch \
    --overscroll-history-navigation=0 \
    --start-fullscreen \
    http://localhost:5000
{% endif %}